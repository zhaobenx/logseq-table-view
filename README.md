# Logseq Table View (表格视图插件)

这是一个为 Logseq 设计的表格视图插件，允许用户以电子表格的形式查看和编辑查询结果。它提供了直观的属性编辑界面，支持排序、列拖拽、隐藏列等功能，让管理大量结构化数据变得更加轻松。

## ✨ 主要功能 (Features)

- **📊 表格化展示**: 将 Logseq 的查询结果以表格形式整洁地呈现。
- **✏️ 直接编辑**:双击单元格即可直接修改页面或块的属性，修改结果实时同步到数据库。
- **🔄 双向同步**: 在表格中的修改会立即反映在 Logseq 页面/块中。
- **🔃 排序支持**: 点击表头即可对任意列进行升序或降序排序（支持数字和文本）。
- **✋ 拖拽排版**: 按住表头即可拖拽调整列的顺序，定制你的视图。
- **👁️ 列管理**: 支持隐藏不需要的属性列，或添加新的属性列。
- **➕ 快速创建**: 支持在表格视图中直接创建新页面，并自动填充当前查询的默认属性。

## 📖 使用指南 (How to Use)

### 1. 插入表格

在 Logseq 的任意块中，使用以下命令格式插入表格：

```
{{renderer :table-view, 查询语句}}
```

或者使用斜杠命令 `/Table View` 快速插入。

#### 查询语句支持

插件支持两种形式的查询语法：

1.  **简易语法 (推荐)**:

    - `type::book` (查询所有属性 `type` 为 `book` 的页面/块)
    - `status::doing`

2.  **高级语法 (Logseq Datalog)**:
    - `(page-property :type "book")`
    - 更复杂的 Query 也可以尝试支持，但建议以属性查询为主。

### 2. 操作说明

- **编辑属性**: 单击任意属性单元格，输入新内容并回车即可保存。
- **重命名页面**: 第一列“Page Name”支持点击编辑，回车后将执行重命名操作。
- **排序**: 点击表头文字，切换 升序/降序/默认 状态。
- **调整列宽/顺序**: 鼠标按住表头左右拖动可调整列顺序。
- **显隐列**: 点击右上角的设置图标 ⚙️，勾选或取消勾选以显示或隐藏列。
- **新建列**: 点击表头最右侧的 `+` 号，输入新的属性名称即可添加一列。

## 📷 截图演示 (Screenshots)

> 💡 **提示**: 为了让用户更直观地了解插件，建议您在发布前截取以下界面的图片，并替换下方的占位符。
>
> **截图建议**:
>
> 1. 使用 Clean 模式或浅色主题截图，效果更佳。
> 2. 截取包含一些示例数据的表格。
> 3. 可以使用 Gif 展示拖拽和排序效果。

### 1. 插件主界面

![表格视图主界面](https://via.placeholder.com/800x400?text=Plugin+Main+Interface+Screenshot)
_(请在此处放置插件在 Logseq 中渲染的主界面截图)_

### 2. 排序与列管理

![排序与列管理](https://via.placeholder.com/800x400?text=Sorting+and+Column+Management)
_(展示点击表头排序，以及使用设置菜单隐藏列的截图)_

### 3. 编辑与新建

![编辑与新建](https://via.placeholder.com/800x400?text=Editing+and+Creating)
_(展示正在编辑单元格，或者点击“新建页面”按钮时的截图)_

## 🛠️ 安装与开发 (Development)

### 安装

1. 下载最新发布的 Release zip 包。
2. 在 Logseq 插件中心开启 "Developer Mode" (开发者模式)。
3. 点击 "Load unpacked plugin"，选择解压后的文件夹。

### 本地开发

如果您需要自行构建或修改代码：

```bash
# 安装依赖
npm install

# 启动开发服务器 (注意：Logseq 插件通常需要 Build 后加载，Dev 模式需配合特定配置)
npm run dev

# 构建生产版本
npm run build
```

构建完成后，将 Logseq 指向 `dist` 目录 (或者根目录，视 `package.json` 配置而定)。

## 📝 贡献

欢迎提交 Issue 或 Pull Request！

## 📄 License

MIT
